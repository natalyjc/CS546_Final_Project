<div class="dashboard-container">
  <h2>Welcome, {{firstName}}!</h2>
  <p class="dashboard-intro">This is your personalized learning dashboard. Stay on top of your goals and progress!</p>

  {{#if isAdmin}}
  <a href="/admin" class="admin-link">Go to Admin Dashboard</a>
  {{/if}}

  <div class="dashboard-section">
    <div class="section-header">
      <h3>ğŸ“š My Courses</h3>
      <a href="/courses/new" class="btn-create-course">â• Add New Course</a>
    </div>
    {{#if courses.length}}
    <ul class="course-list">
      {{#each courses}}
      <li class="course-card">
        <div class="course-card-header">
          <div class="course-name">
            <a href="/courses/{{this._id}}" class="course-link">{{this.title}}</a>
          </div>
          <div class="course-actions">
            <a href="/courses/{{this._id}}/edit" class="update-course-btn">âœï¸ Edit</a>
            <form action="/courses/delete/{{this._id}}" method="POST">
              <button type="submit" class="delete-course-btn">ğŸ—‘ Delete</button>
            </form>
          </div>
        </div>
        <div class="course-details">
          <span class="course-progress">ğŸ“ˆ Progress: {{this.progress}}%</span>
          <span class="course-status">ğŸ“Œ Status: {{this.status}}</span>
        </div>
        <div class="course-recommendations">
          <h4>ğŸ¥ Recommended YouTube Videos:</h4>
          <ul id="yt-{{@index}}">
            <li>Loading videos...</li>
          </ul>
        </div>
      </li>
      {{/each}}
    </ul>
    {{else}}
    <p>No courses added yet.</p>
    {{/if}}
  </div>

  <div class="dashboard-section">
    <h3>ğŸ¯ My Goals</h3>
    {{#if goals.length}}
    <ul class="goal-list">
      {{#each goals}}
      <li class="goal-card">
        <div class="goal-text">ğŸ“Œ {{this.goalTitle}}</div>
        {{#if this.isCompleted}}
        <div class="goal-completed">âœ… Completed</div>
        {{else}}
        <div class="goal-pending">ğŸš€ In Progress</div>
        {{/if}}
      </li>
      {{/each}}
    </ul>
    {{else}}
    <p>No goals added yet.</p>
    {{/if}}
  </div>

  <form action="/auth/logout" method="GET">
    <button type="submit" class="logout-btn">Logout</button>
  </form>
</div>

<script src="/js/recommendations.js"></script>